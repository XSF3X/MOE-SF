<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تسجيل الدخول</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin:0; padding:0;
  background:#0f172a;
  font-family:'Tajawal',sans-serif;
  display:flex; align-items:center; justify-content:center;
  height:100vh; color:#e2e8f0;
}

.box {
  width:350px;
  background:#1e293b;
  padding:26px;
  border-radius:18px;
  border:1px solid #334155;
  text-align:center;
}

.box img {
  width:120px;
  margin-bottom:14px;
}

.box h2 {
  margin:0 0 20px;
}

input {
  width:100%;
  padding:12px;
  margin-bottom:14px;
  border-radius:10px;
  border:1px solid #334155;
  background:#0f172a;
  color:white;
  font-size:16px;
}

button {
  width:100%;
  padding:12px;
  border:none; border-radius:10px;
  background:#3b82f6;
  color:white; font-size:17px;
  cursor:pointer;
}

.err {
  color:#f87171;
  margin-bottom:10px;
  display:none;
}
</style>

</head>
<body>

<div class="box">
  <img src="teacher_logo.png">
  <h2>تسجيل الدخول</h2>

  <div id="err" class="err">بيانات تسجيل الدخول غير صحيحة</div>

  <input id="user" placeholder="اسم المستخدم">
  <input id="pass" type="password" placeholder="كلمة المرور">

  <button onclick="login()">دخول</button>
</div>

<script>
if(!localStorage.getItem("users")){
  localStorage.setItem("users", JSON.stringify({
    "admin":"1234" // إنشاء حساب أدمن تلقائي
  }));
}

function login(){
  const u = document.getElementById("user").value.trim();
  const p = document.getElementById("pass").value.trim();

  const users = JSON.parse(localStorage.getItem("users"));

  if(users[u] && users[u] === p){
    localStorage.setItem("activeUser", u);
    if(u === "admin") location.href="admin.html";
    else location.href="index.html";
  } else {
    document.getElementById("err").style.display="block";
  }
}

// دخول عند الضغط Enter
document.addEventListener("keydown", e=>{
  if(e.key === "Enter") login();
});
</script>

</body>
</html>